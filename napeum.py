"""
납음오행(納音五行) 모듈
Napeum Five Elements Module
"""

# 60갑자 납음오행표
NAPEUM_TABLE = {
    # 海中金 (바다 속 금)
    '甲子': '海中金', '乙丑': '海中金',
    # 爐中火 (화로 속 불)
    '丙寅': '爐中火', '丁卯': '爐中火',
    # 大林木 (큰 숲의 나무)
    '戊辰': '大林木', '己巳': '大林木',
    # 路傍土 (길가의 흙)
    '庚午': '路傍土', '辛未': '路傍土',
    # 劍鋒金 (칼날의 쇠)
    '壬申': '劍鋒金', '癸酉': '劍鋒金',
    # 山頭火 (산꼭대기의 불)
    '甲戌': '山頭火', '乙亥': '山頭火',
    # 澗下水 (시냇물)
    '丙子': '澗下水', '丁丑': '澗下水',
    # 城頭土 (성벽의 흙)
    '戊寅': '城頭土', '己卯': '城頭土',
    # 白蠟金 (백랍 쇠)
    '庚辰': '白蠟金', '辛巳': '白蠟金',
    # 楊柳木 (버드나무)
    '壬午': '楊柳木', '癸未': '楊柳木',
    # 泉中水 (샘물)
    '甲申': '泉中水', '乙酉': '泉中水',
    # 屋上土 (지붕의 흙)
    '丙戌': '屋上土', '丁亥': '屋上土',
    # 霹靂火 (번개불)
    '戊子': '霹靂火', '己丑': '霹靂火',
    # 松柏木 (소나무, 잣나무)
    '庚寅': '松柏木', '辛卯': '松柏木',
    # 長流水 (긴 강물)
    '壬辰': '長流水', '癸巳': '長流水',
    # 沙中金 (모래 속 금)
    '甲午': '沙中金', '乙未': '沙中金',
    # 山下火 (산 아래 불)
    '丙申': '山下火', '丁酉': '山下火',
    # 平地木 (평지의 나무)
    '戊戌': '平地木', '己亥': '平地木',
    # 壁上土 (벽의 흙)
    '庚子': '壁上土', '辛丑': '壁上土',
    # 金箔金 (금박)
    '壬寅': '金箔金', '癸卯': '金箔金',
    # 覆燈火 (등불)
    '甲辰': '覆燈火', '乙巳': '覆燈火',
    # 天河水 (은하수)
    '丙午': '天河水', '丁未': '天河水',
    # 大驛土 (큰 역참의 흙)
    '戊申': '大驛土', '己酉': '大驛土',
    # 釵釧金 (비녀 쇠)
    '庚戌': '釵釧金', '辛亥': '釵釧金',
    # 桑柘木 (뽕나무)
    '壬子': '桑柘木', '癸丑': '桑柘木',
    # 大溪水 (큰 시냇물)
    '甲寅': '大溪水', '乙卯': '大溪水',
    # 沙中土 (모래 흙)
    '丙辰': '沙中土', '丁巳': '沙中土',
    # 天上火 (하늘의 불)
    '戊午': '天上火', '己未': '天上火',
    # 石榴木 (석류나무)
    '庚申': '石榴木', '辛酉': '石榴木',
    # 大海水 (큰 바다물)
    '壬戌': '大海水', '癸亥': '大海水'
}


def get_napeum(pillar: str) -> str:
    """
    납음오행 조회
    
    Args:
        pillar: 간지 (예: '己丑')
    
    Returns:
        납음오행 (예: '霹靂火')
    """
    return NAPEUM_TABLE.get(pillar, '미상')


def get_napeum_element(napeum: str) -> str:
    """
    납음오행에서 오행 추출
    
    Args:
        napeum: 납음오행 (예: '霹靂火')
    
    Returns:
        오행 (예: '火')
    """
    if '金' in napeum:
        return '金'
    elif '木' in napeum:
        return '木'
    elif '水' in napeum:
        return '水'
    elif '火' in napeum:
        return '火'
    elif '土' in napeum:
        return '土'
    return '미상'


if __name__ == '__main__':
    # 테스트
    test_cases = [
        ('己丑', '2009년생'),
        ('丙子', '1996년생'),
        ('丁未', '1967년생'),
        ('壬申', '1992년생')
    ]
    
    print("=== 납음오행 테스트 ===\n")
    for pillar, desc in test_cases:
        napeum = get_napeum(pillar)
        element = get_napeum_element(napeum)
        print(f"{pillar} ({desc}): {napeum} ({element})")
