# 판매가 계산기 테스트

## 개요
이 디렉토리는 판매가 계산기의 운임 배분 로직을 검증하는 테스트를 포함합니다.

## 테스트 파일
- `test_sales_calculator.html` - 수량 기반 운임 배분 로직에 대한 포괄적인 테스트 스위트

## 테스트 실행 방법

### 1. 웹 브라우저에서 직접 실행
1. 로컬 HTTP 서버 시작:
   ```bash
   cd /home/runner/work/saju84/saju84
   python3 -m http.server 8000
   ```

2. 브라우저에서 열기:
   ```
   http://localhost:8000/test_sales_calculator.html
   ```

### 2. 파일로 직접 열기
대부분의 브라우저에서 `test_sales_calculator.html` 파일을 직접 열 수 있습니다.

## 테스트 내용

### 테스트 스위트
1. **테스트 1: 단일 품목 - 기본 계산**
   - 단일 품목에 대한 기본 운임 배분 및 판매가 계산 검증

2. **테스트 2: 다중 품목 - 수량 기반 운임 배분**
   - 여러 품목이 있을 때 수량에 비례한 운임 배분 검증
   - 총 배분 운임이 총 운임과 일치하는지 확인

3. **테스트 3: 운임이 0원인 경우**
   - 운임이 없는 경우 정상 동작 검증

4. **테스트 4: 문제 명세서 예시**
   - 문제 명세서의 예시 케이스 검증
   - 품목 A 2개, 품목 B 3개, 총 운임 10만원

5. **테스트 5: 여러 품목 - 다양한 수량**
   - 3개 이상의 품목과 다양한 수량으로 테스트
   - 모든 품목의 마진율이 동일하게 유지되는지 확인

6. **테스트 6: 극단 케이스 - 단위 수량 1개**
   - 수량이 1개인 경우 정상 동작 검증

7. **테스트 7: 수량 기반 vs 품목 개수 기반 비교**
   - **중요**: 품목 개수가 아닌 수량 기반으로 배분됨을 명시적으로 검증
   - 2개 품목이지만 수량이 1:9인 경우, 운임도 1:9로 배분됨

## 테스트 결과
모든 테스트는 자동으로 실행되며, 결과는 페이지에 표시됩니다.
- ✅ 녹색: 테스트 통과
- ❌ 빨간색: 테스트 실패

## 운임 배분 공식
```
① 배분운임단가 = 총 운임 ÷ 총수량
② 각 품목 판매단가 = (구입단가 / (1 - 마진율)) + 배분운임단가
③ 판매이익단가 = 판매단가 - 구입단가 - 배분운임단가
④ 총 판매가 = 판매단가 × 수량
```

⚠️ **중요**: 운임은 품목 개수(`items.length`)가 아닌 총수량(`totalQuantity`)을 기준으로 배분됩니다.

## 예시
**입력:**
- 품목 A: 구입단가 50만원, 수량 2개
- 품목 B: 구입단가 50만원, 수량 3개
- 총 운임: 10만원
- 마진율: 20%

**계산:**
- 총수량 = 2 + 3 = 5개
- 배분운임단가 = 10만 ÷ 5 = 2만원
- 품목 A 판매단가 = (50만 / 0.8) + 2만 = 64.5만원
- 품목 A 판매이익단가 = 64.5만 - 50만 - 2만 = 12.5만원
- 품목 B 판매단가 = (50만 / 0.8) + 2만 = 64.5만원
- 품목 B 판매이익단가 = 64.5만 - 50만 - 2만 = 12.5만원
